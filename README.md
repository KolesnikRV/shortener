# Url shortener
---------------
## Описание
------------
### Web-приложение - аналог bit.ly и подобных систем, для длинных урлов создает их короткие аналоги &lt;domain>/&lt;subpart>.
- Состоит из двух приложений url и api;
- Функции формирования коротких url и сохранения сессий расположены в functions/functions.py;
- Разделение пользователей - по session cookies (при первом обращении к приложению ключ сессии сохраняется в базе);
- Настройки django, redis, mysql прописаны в файле .env.

Использованные технологии:
- python 8.10.0
- django 3.2.9
- djangorestframework 3.12.4
- mysql 8.0.27
- redis
- docker 

#### приложение url
--------------------
- описывает модель хранения сокращённых ссылок (Url)
- представления: 
- - index (эндпоинт '/') - возвращает шаблон содержащий форму для ввода длинной ссылки и возможного варианта короткой, также возвращает список сокращенных ссылок текущего пользователя с пагинацией. Поддерживает запросы GET и POST.
пример: http:/127.0.0.1/
- - url_redirect (эндпоинт '/все символы латинского алфавита, цифры') - при переходе по короткому url перенаправлят на длинный url.
пример: http:/127.0.0.1/A12H4Ttm, http:/127.0.0.1/Hamster
внимание: http:/127.0.0.1/Hamster и http:/127.0.0.1/hamster - это разные короткие ссылки.

### приложение api
------------------
- апи приложения
- содержит только один эндпоинт: '/' и поддерживает запросы GET и POST.
- при запросе GET(если указан sessionid в Headers cookies) возвращает данные о всех сокращенных ссылках пользователя.
Возможно отсутствие данных если:
- завершилась сессия;
- данные устарели (автоматическое удаления старых данных настраивается параметром CLEAR_DATA_MINUTES в файле .env)
- при запросе POST пользователь передаёт на сервер форму с полями full_url=длинный url и short_url=<пусто> или любой желаемый <subpart>

### Установка
--------------
Для установки и запуска достаточно выполнить следующие действия:
  - $ git clone https://github.com/KolesnikRV/shortener.git
  - $ cd shortener
  - $ docker-compose up --build
